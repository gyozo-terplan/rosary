<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>R√≥zsaf√ºz√©r</title>
<style>
  :root{--bg:#f3f3f3;--text:#111;--bead:#bbb;--bead-active:#6a3;--rosary-size:260px;}
  body.dark{--bg:#111;--text:#eee;--bead:#555;--bead-active:#9f6;}
  body{margin:0;font-family:"Times New Roman",Times,serif;background:var(--bg);color:var(--text);display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;padding:2rem;line-height:1.4;user-select:none;touch-action:manipulation;transition:background .3s,color .3s;}
  #prayer{white-space:pre-line;font-size:1.25rem;max-width:600px;}
  #modeToggle{position:fixed;left:1rem;top:1rem;font-size:1.8rem;background:none;border:none;cursor:pointer;color:var(--text);z-index:2;}
  #rosary{position:fixed;right:1rem;top:1rem;width:var(--rosary-size);height:var(--rosary-size);pointer-events:none;}
  .bead{position:absolute;left:50%;top:50%;width:10px;height:10px;border-radius:50%;background:var(--bead);transform-origin:center center;transition:background .3s;}
  .bead.active{background:var(--bead-active);}  
  /* -------- Mobil optimaliz√°l√°s -------- */
  @media(max-width:600px){
    :root{--rosary-size:180px;}
    #rosary{left:50%;right:auto;top:auto;bottom:1rem;transform:translateX(-50%);}  /* k√∂z√©pre alul */
    #prayer{font-size:1.1rem;max-width:90%;padding-bottom:calc(var(--rosary-size) + 2rem);} /* elker√ºli √°tfed√©st */
  }
</style>
</head>
<body>
<button id="modeToggle">üåô</button>
<div id="rosary"></div>
<div id="prayer"></div>
<script>
// ===== Sz√∂vegek (r√∂vid√≠tve) =====
const CROSS="‚Ä† Az Atya, a Fi√∫ √©s a Szentl√©lek nev√©ben. √Åmen.";
const CREDO=`Hiszek egy Istenben, mindenhat√≥ Aty√°ban... √Åmen.`; // r√∂vid√≠tve itt a p√©ld√°ban
const OUR_FATHER=`Miaty√°nk... √Åmen.`;
const HAIL=ins=>`√údv√∂zl√©gy, M√°ria... J√©zus${ins?", "+ins:""}. ... √Åmen.`;
const GLORY="Dics≈ës√©g... √Åmen.";
const FATIMA="√ì, J√©zusom... √Åmen.";
const SALVE="√údv√∂zl√©gy, Kir√°lyn≈ë...";
const CLOSING="Isten√ºnk... √Åmen.";
// Titkok teljes list√°ja
const M={joy:["akit Te, Szent Sz≈±z, a Szentl√©lekt≈ël fogant√°l","akit Te, Szent Sz≈±z, Erzs√©betet l√°togatv√°n hordozt√°l","akit Te, Szent Sz≈±z, a vil√°gra sz√ºlt√©l","akit Te, Szent Sz≈±z, a templomban bemutatt√°l","akit Te, Szent Sz≈±z, a templomban megtal√°lt√°l"],
  sor:["aki √©rt√ºnk v√©rrel ver√≠t√©kezett","akit √©rt√ºnk megostoroztak","akit √©rt√ºnk t√∂vissel megkoron√°ztak","aki √©rt√ºnk a keresztet hordozta","akit √©rt√ºnk keresztre fesz√≠tettek"],
  lum:["aki a Jord√°n viz√©ben megkeresztelkedett","aki a k√°nai menyegz≈ën kinyilv√°n√≠totta isteni erej√©t","aki meghirdette Isten orsz√°g√°t","aki a T√°bor hegy√©n megmutatta isteni dics≈ës√©g√©t","aki az Euchariszti√°t nek√ºnk adta"],
  glo:["aki a hal√°lb√≥l felt√°madt","aki a mennybe felment","aki nek√ºnk a Szentlelket elk√ºldte","aki T√©ged, Szent Sz≈±z, a mennybe felvett","aki T√©ged, Szent Sz≈±z, a mennyben megkoron√°zott"]};
function daySet(){return[ M.glo,M.joy,M.sor,M.glo,M.lum,M.sor,M.joy][new Date().getDay()]}
// Ima-sorozat √∂ssze√°ll√≠t√°sa
function build(){const s=[],t=daySet();s.push(CROSS,CREDO,OUR_FATHER);for(let i=0;i<3;i++)s.push(HAIL());s.push(GLORY);
 for(let d=0;d<5;d++){s.push(OUR_FATHER);for(let i=0;i<10;i++)s.push(HAIL(t[d]));s.push(GLORY,FATIMA);}s.push(SALVE,CLOSING,CROSS);return s;}
let prayers=build(),idx=0;
// R√≥zsaf√ºz√©r rajzol√°sa rugalmas sug√°rral
const ros=document.getElementById("rosary");const B=60,radius=ros.offsetWidth/2-5;for(let i=0;i<B;i++){const b=document.createElement("div");b.className="bead";const a=360/B*i;b.style.transform=`rotate(${a}deg) translate(${radius}px) rotate(-${a}deg)`;ros.appendChild(b);}function updRos(){document.querySelectorAll(".bead").forEach((b,i)=>b.classList.toggle("active",i<Math.floor(idx/prayers.length*B)));}
// Megjelen√≠t√©s
const out=document.getElementById("prayer");function show(){out.textContent=prayers[idx];updRos();}
// kattint√°s l√©ptet
const modeBtn=document.getElementById("modeToggle");document.body.addEventListener("click",e=>{if(e.target!==modeBtn){idx=(idx+1)%prayers.length;show();}});
// t√©ma v√°lt√°s
modeBtn.addEventListener("click",e=>{e.stopPropagation();const dark=document.body.classList.toggle("dark");modeBtn.textContent=dark?"‚òÄÔ∏è":"üåô";localStorage.setItem("dark",dark);} );if(localStorage.getItem("dark")==="true")document.body.classList.add("dark");
show();
</script>
</body>
</html>
