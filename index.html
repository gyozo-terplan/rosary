<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>R√≥zsaf√ºz√©r</title>
<style>
  :root{
    --bg:#f3f3f3;--text:#111;
    --bead:#bbb;--bead-active:#6a3;--bead-large:#888;
    --rosary-size:260px;
  }
  body.dark{
    --bg:#111;--text:#eee;
    --bead:#555;--bead-active:#9f6;--bead-large:#aaa;
  }
  body{
    margin:0;overflow:visible;
    font-family:"Times New Roman",Times,serif;
    background:var(--bg);color:var(--text);
    display:flex;flex-direction:column;align-items:center;justify-content:flex-start;
    height:100vh;
    padding:2rem 1rem 0;
    text-align:center;line-height:1.4;
    user-select:none;touch-action:manipulation;
    transition:background .3s,color .3s;
  }
  #modeToggle{
    position:fixed;left:1rem;top:1rem;font-size:1.8rem;background:none;border:none;cursor:pointer;color:var(--text);z-index:2;
  }
  #prayer{
    white-space:pre-line;font-size:1.25rem;max-width:600px;
  }
  #rosary{
    position:fixed;right:1rem;top:1rem;
    width:var(--rosary-size);height:calc(var(--rosary-size)+120px);
    pointer-events:none;
  }
  .bead{position:absolute;width:10px;height:10px;border-radius:50%;background:var(--bead);transition:background .3s;}
  .bead.large{width:14px;height:14px;background:var(--bead-large);}
  .bead.active{background:var(--bead-active)!important;}
  /* ---------------- Mobile ---------------- */
  @media(max-width:600px){
    :root{--rosary-size:160px;}
    #rosary{
      position:absolute;left:50%;bottom:1rem;top:auto;right:auto;
      transform:translateX(-50%) rotate(90deg);
    }
    #prayer{
      font-size:1.05rem;max-width:100%;
      padding-bottom:calc(var(--rosary-size)+150px);
      overflow:hidden;text-overflow:clip;
    }
  }
</style>
</head>
<body>
<button id="modeToggle">üåô</button>
<div id="prayer"></div>
<div id="rosary"></div>
<script>
/* -------------- Full prayer texts -------------- */
const CROSS="‚Ä† Az Atya, a Fi√∫ √©s a Szentl√©lek nev√©ben. √Åmen.";
const CREDO=`Hiszek egy Istenben, mindenhat√≥ Aty√°ban, mennynek √©s f√∂ldnek Teremt≈ëj√©ben.
√âs J√©zus Krisztusban, az ≈ê egysz√ºl√∂tt Fi√°ban, a mi Urunkban,
aki fogantatott Szentl√©lekt≈ël, sz√ºletett Sz≈±z M√°ri√°t√≥l,
szenvedett Poncius Pil√°tus alatt, megfesz√≠tett√©k, meghalt √©s eltemett√©k;
al√°sz√°llt a poklokra, harmadnapon felt√°madt a halottak k√∂z√ºl;
f√∂lment a mennybe, ott √ºl a mindenhat√≥ Atyaisten jobbj√°n,
onnan j√∂n el √≠t√©lni √©l≈ëket √©s holtakat.
Hiszek Szentl√©lekben,
hiszem a katolikus Anyaszentegyh√°zat,
a szentek k√∂z√∂ss√©g√©t, a b≈±n√∂k bocs√°nat√°t,
a test felt√°mad√°s√°t √©s az √∂r√∂k √©letet. √Åmen.`;
const OUR_FATHER=`Miaty√°nk, aki a mennyekben vagy,
szenteltess√©k meg a Te neved;
j√∂jj√∂n el a Te orsz√°god;
legyen meg a Te akaratod, amint a mennyben, √∫gy a f√∂ld√∂n is.
Mindennapi kenyer√ºnket add meg nek√ºnk ma;
√©s bocs√°sd meg v√©tkeinket,
mik√©ppen mi is megbocs√°tunk az ellen√ºnk v√©tkez≈ëknek;
√©s ne v√≠gy minket k√≠s√©rt√©sbe,
de szabad√≠ts meg a gonoszt√≥l. √Åmen.`;
const HAIL=ins=>`√údv√∂zl√©gy, M√°ria, kegyelemmel teljes,
az √ör van Teveled;
√°ldott vagy Te az asszonyok k√∂z√∂tt,
√©s √°ldott a Te m√©hednek gy√ºm√∂lcse, J√©zus${ins?', '+ins:''}.
Asszonyunk Sz≈±z M√°ria, Istennek Szent Anyja,
im√°dkozz√°l √©rett√ºnk, b≈±n√∂s√∂k√©rt,
most √©s hal√°lunk √≥r√°j√°n. √Åmen.`;
const GLORY="Dics≈ës√©g az Aty√°nak, a Fi√∫nak √©s a Szentl√©leknek, mik√©ppen kezdetben, most √©s mind√∂r√∂kk√©. √Åmen.";
const FATIMA=`√ì, J√©zusom, bocs√°sd meg b≈±neinket,
ments meg minket a pokol t√ºz√©t≈ël,
vidd a mennybe a lelkeket,
k√ºl√∂n√∂sen azokat, akik
legink√°bb r√°szorulnak irgalmadra. √Åmen.`;
const SALVE=`√údv√∂zl√©gy, Kir√°lyn≈ë, irgalmass√°g Anyja!
√âlet√ºnk, √©dess√©g√ºnk √©s rem√©nys√©g√ºnk, √ºdv√∂zl√©gy!
Hozz√°d ki√°ltunk, √âva sz√°mkivetett fiai;
hozz√°d s√≥hajtozunk s√≠rv√°n √©s zokogv√°n e siralom v√∂lgy√©b≈ël.
Ford√≠tsd r√°nk teh√°t, sz√≥sz√≥l√≥nk, irgalmas szemeidet;
√©s J√©zust, a Te m√©hednek √°ldott gy√ºm√∂lcs√©t
mutasd meg nek√ºnk e sz√°mkivet√©s ut√°n,
√≥ kegyes, √≥ irgalmas, √≥ √©des Sz≈±z M√°ria!
Im√°dkozz√°l √©rett√ºnk, Istennek szent Anyja,
hogy m√©lt√≥k lehess√ºnk Krisztus √≠g√©reteire! √Åmen.`;
const CLOSING=`Isten√ºnk, ki egysz√ºl√∂tt Fiad √©let√©vel, hal√°l√°val √©s felt√°mad√°s√°val
megszerezte nek√ºnk az √∂r√∂k √ºdv√∂ss√©g jutalm√°t,
add, k√©r√ºnk, hogy e szent R√≥zsaf√ºz√©r titkait tisztelve
k√∂vess√ºk, amit tan√≠tanak, √©s elnyerj√ºk, amit √≠g√©rnek.
Krisztus, a mi Urunk √°ltal. √Åmen.`;
/* -------------- Mysteries -------------- */
const M={joy:[
'akit Te, Szent Sz≈±z, a Szentl√©lekt≈ël fogant√°l',
'akit Te, Szent Sz≈±z, Erzs√©betet l√°togatv√°n hordozt√°l',
'akit Te, Szent Sz≈±z, a vil√°gra sz√ºlt√©l',
'akit Te, Szent Sz≈±z, a templomban bemutatt√°l',
'akit Te, Szent Sz≈±z, a templomban megtal√°lt√°l'],
sor:[
'aki √©rt√ºnk v√©rrel ver√≠t√©kezett',
'akit √©rt√ºnk megostoroztak',
'akit √©rt√ºnk t√∂vissel megkoron√°ztak',
'aki √©rt√ºnk a keresztet hordozta',
'akit √©rt√ºnk keresztre fesz√≠tettek'],
lum:[
'aki a Jord√°n viz√©ben megkeresztelkedett',
'aki a k√°nai menyegz≈ën kinyilv√°n√≠totta isteni erej√©t',
'aki meghirdette Isten orsz√°g√°t',
'aki a T√°bor hegy√©n megmutatta isteni dics≈ës√©g√©t',
'aki az Euchariszti√°t nek√ºnk adta'],
glo:[
'aki a hal√°lb√≥l felt√°madt',
'aki a mennybe felment',
'aki nek√ºnk a Szentlelket elk√ºldte',
'aki T√©ged, Szent Sz≈±z, a mennybe felvett',
'aki T√©ged, Szent Sz≈±z, a mennyben megkoron√°zott']};
function daySet(){return[M.glo,M.joy,M.sor,M.glo,M.lum,M.sor,M.joy][new Date().getDay()];}
/* -------------- Sequence builder -------------- */
function build(){
  const seq=[],t=daySet();
  seq.push(CROSS,CREDO,OUR_FATHER);
  for(let i=0;i<3;i++) seq.push(HAIL());
  seq.push(GLORY);
  for(let d=0;d<5;d++){
    seq.push(OUR_FATHER);
    for(let i=0;i<10;i++) seq.push(HAIL(t[d]));
    seq.push(GLORY,FATIMA);
  }
  seq.push(SALVE,CLOSING,CROSS);
  return seq;
}
let prayers=build(),idx=0;
/* -------------- Rosary drawing -------------- */
const ros=document.getElementById('rosary');
function drawRosary(){
  ros.innerHTML='';
  const loop=54,tail=6,R=ros.offsetWidth/2-10,gap=70,start=90+gap/2;
  const place=(x,y,large)=>{
    const b=document.createElement('div');
    b.className='bead'+(large?' large':'');
    b.style.left=x+'px';b.style.top=y+'px';
    ros.appendChild(b);
  };
  for(let i=0;i<loop;i++){
    const a=start+(360-gap)*i/loop;
    place(R*Math.cos(a*Math.PI/180)+ros.offsetWidth/2,R*Math.sin(a*Math.PI/180)+R+10,i%11===0);
  }
  const baseY=R*2+10;
  for(let j=0;j<tail;j++){
    place(ros.offsetWidth/2,baseY+20*j,j===0);
  }
}
function updRos(){
  const beads=[...ros.children],done=Math.floor(idx/prayers.length*beads.length);
  beads.forEach((b,i)=>b.classList.toggle('active',i<done));
}
/* -------------- Display & controls -------------- */
const out=document.getElementById('prayer'),toggle=document.getElementById('modeToggle');
function show(){out.textContent=prayers[idx];updRos();}
document.body.addEventListener('click',e=>{if(e.target!==toggle){idx=(idx+1)%prayers.length;show();}});
toggle.addEventListener('click',e=>{e.stopPropagation();const d=document.body.classList.toggle('dark');toggle.textContent=d?'‚òÄÔ∏è':'üåô';localStorage.setItem('dark',d);});
if(localStorage.getItem('dark')==='true')document.body.classList.add('dark');
window.addEventListener('resize',()=>{
  drawRosary();updRos();
});
drawRosary();show();
</script>
</body>
</html>
